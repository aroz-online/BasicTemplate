<!DOCTYPE html>
<html>
    <head>
        <!-- PWA / Responsive Headers-->
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1"/>
        <meta charset="UTF-8">
        <meta name="theme-color" content="#f2f2f2">
        <link rel="manifest" href="manifest.json">

        <!-- Web Headers for css and JavaScript-->
        <link rel="stylesheet" href="../script/semantic/semantic.min.css">
        <script src="../script/jquery.min.js"></script>

        <!-- Import Semantic JS (CSS framework) and ao_module wrapper, both require jQuery-->
        <script src="../script/semantic/semantic.min.js"></script>
        <script src="../script/ao_module.js"></script>

        <title>BasicTemplate</title>
        <style>
            /*
                As floatWindows defualt background is transparent.
                If you want your WebApp to have a white background, 
                you need to set it inside the header style.

                You can also use backdrop-filter for glass-effect or semi transparent.
            */
            body{
                background-color:white;
            }
        </style>
    </head>
    <body>
        <br><br>
        <div class="ui container">
            <h3>Hello World!</h3>
            <p>This is a basic template for starting your WebApp project</p>
            <span id="flist"></span>
            <br>
            <button class="ui primary button" onclick="openfileselector();">Open File Selector New Mode</button>
            <button class="ui negative button" onClick="ao_module_close();">Close Window</button>
        </div>
        <script>
            /*
                Open File Selector using ao_module.js wrapper
                See ../script/ao_module.js for more information
            */
            function openfileselector(){
                ao_module_openFileSelector(fileLoader, "user:/Desktop/",type="new",true, {
                    defaultName: "New File.txt"
                })
            }

            /*
                Callback from FileSelector. Process the selecte file.
            */
            function fileLoader(filedata){
                if (filedata.length == 0){
                    $("#flist").text("No file selected");
                    return;
                }
                $("#flist").html("");
                for (var i =0; i < filedata.length; i++){
                    $("#flist").append("New File Selected: " + filedata[i].filename + " <br>Filepath: " + filedata[i].filepath + "<br>");
                }
            }
        </script>
    </body>
</html>